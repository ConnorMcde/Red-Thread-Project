import datetime
import calendar
import colorama
from colorama import Fore, Style
import pygame
pygame.init()
colorama.init(autoreset=True)

today= datetime.date.today()


stack = []
Work_names = ""
Date = 0
i = 0
Urgent = 1
close = 7


print(f"\n{Fore.BLUE} ----------Work reminder App----------{Style.RESET_ALL} ")


while True:
    
    print("A to add reminder, V to view reminders, D to delete reminder, E to edit,  Q to Quit")
    input1 = input("").upper()
   

    if input1 == "A":
        Work_names = input("Name: ")
        year = int(input("Year due (e.g. 2025): "))
        month = int(input("Month due (1–12): "))
        day = int(input("Day due (1–31): "))
        due_date = datetime.date(year, month, day)
        days_left = (due_date - today).days
        stack.append((Work_names, due_date, days_left))
        print(f"\n{Work_names} added")
        

    elif input1 == "V":
        if not stack:
            print("\nno work reminders have been written")
        else:
            print("\nYour reminders:")
            for i, (Work_names, due_date, days_left) in enumerate((stack), 1): 
                if days_left <= Urgent:
                    print(f"{i}. {Work_names} = {Fore.RED}{days_left} days left!{Style.RESET_ALL}")
                if 0 > days_left:
                    print(f"{Fore.RED}U have passed your due date!{Style.RESET_ALL}")
                    removed = stack.pop()
                    print(f"\nRemoved reminder: {removed[0]}")
                    
                elif (1 < days_left <= close) & (days_left > Urgent):
                    print(f"{i}. {Work_names} = {Fore.YELLOW}{days_left} days left!{Style.RESET_ALL}")
                elif (days_left > Urgent) & (days_left > close):
                    print(f"{i}. {Work_names} = {Fore.GREEN}{days_left} days left{Style.RESET_ALL}")
                    
    
    elif input1 == "E": 
        print("\nDo u want to change Urgent, Close or Far times OR do u want to Edit work dates. U/C/F/E")
        SettingChange = input("").upper()
        if SettingChange == "U":
            Urgent = int(input("Urgent = "))
            print("\nUrgent times have changed")
        elif SettingChange == "E":
            print("")
            for i, (Work_names, due_date, days_left) in enumerate((stack), 1): 
             print(f"{i}. {Work_names}")
            choice =  int(input("Which would u like to edit: "))
            Work_names = stack[choice - 1][0]
            stack.pop(choice - 1)
            year = int(input("Year due (e.g. 2025): "))
            month = int(input("Month due (1–12): "))
            day = int(input("Day due (1–31): "))
            due_date = datetime.date(year, month, day)
            days_left = (due_date - today).days
            stack.append((Work_names, due_date, days_left))
            print(f"\n{Work_names} changed")
             
        elif SettingChange == "C":
            close = int(input("Close = "))
            print("\nClose times have changed")
        else:
            print("\nFar times will always be after close or urgent if u chose F")
                    
    elif input1 == "D":  
        if stack:
            number = int(input("\nWhat number to remove: "))
            
            removed = stack.pop(number - 1)
            print(f"\nRemoved reminder: {removed[0]}")
        else:
            print(f"\nThere are no reminders to remove")

    elif input1 == "Q":
        break
